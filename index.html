<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prism Insight - AI Report</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #ffffff;
            --text-sub: #aaaaaa;
            --accent-hot: #ff4b2b;
            --accent-cool: #00c6ff;
            --green: #4caf50;
            --red: #f44336;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
        }

        .container { max-width: 500px; margin: 0 auto; }
        
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .logo { font-size: 24px; font-weight: bold; letter-spacing: -1px; }
        .date { font-size: 12px; color: var(--text-sub); }

        /* Market Indices */
        .market-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px; }
        .market-card { background: var(--card-bg); padding: 15px; border-radius: 15px; border: 1px solid #333; }
        .m-name { font-size: 12px; color: var(--text-sub); }
        .m-price { font-size: 18px; font-weight: bold; margin: 5px 0; }
        .m-change { font-size: 12px; font-weight: 500; }

        /* Summary */
        .section-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; }
        .section-title::before { content: 'üíé'; margin-right: 8px; }
        .summary-box { background: var(--card-bg); padding: 20px; border-radius: 15px; line-height: 1.6; margin-bottom: 25px; font-size: 14px; }

        /* Sector Analysis (New) */
        .sectors-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px; }
        .sector-card { background: #252525; padding: 12px; border-radius: 12px; border-left: 4px solid #444; }
        .sector-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .sector-name { font-size: 13px; font-weight: bold; }
        .sentiment-badge { font-size: 9px; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
        .HOT { background: var(--accent-hot); color: #fff; }
        .COOL { background: var(--accent-cool); color: #fff; }
        .sector-reason { font-size: 11px; color: var(--text-sub); line-height: 1.4; }

        /* Top Picks */
        .pick-list { display: flex; flex-direction: column; gap: 10px; margin-bottom: 25px; }
        .pick-item { background: var(--card-bg); padding: 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; }
        .pick-name { font-weight: bold; }
        .pick-tag { font-size: 10px; background: #333; padding: 3px 8px; border-radius: 20px; color: var(--text-sub); }

        .up { color: var(--red); }
        .down { color: var(--accent-cool); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">PRISM üíé</div>
            <div id="report-date" class="date">-</div>
        </header>

        <div id="market-indices" class="market-grid"></div>

        <div class="section-title">AI Summary</div>
        <div id="summary" class="summary-box">Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>

        <div class="section-title">Sector Analysis</div>
        <div id="sectors-container" class="sectors-grid"></div>

        <div class="section-title">Top Picks</div>
        <div id="picks-container" class="pick-list"></div>
    </div>

    <script>
        async function loadReport() {
            try {
                const response = await fetch('recommendations.json');
                const data = await response.json();

                // ÎÇ†Ïßú ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('report-date').innerText = data.date;

                // ÏßÄÏàò ÏóÖÎç∞Ïù¥Ìä∏
                const marketGrid = document.getElementById('market-indices');
                marketGrid.innerHTML = Object.entries(data.market_info).map(([name, info]) => `
                    <div class="market-card">
                        <div class="m-name">${info.status} ${name}</div>
                        <div class="m-price">${info.price.toLocaleString()}</div>
                        <div class="m-change ${info.change >= 0 ? 'up' : 'down'}">
                            ${info.change >= 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(info.change)}%
                        </div>
                    </div>
                `).join('');

                // ÏöîÏïΩ ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('summary').innerText = data.summary;

                // ÏÑπÌÑ∞ Î∂ÑÏÑù ÏóÖÎç∞Ïù¥Ìä∏ (New)
                const sectorsContainer = document.getElementById('sectors-container');
                sectorsContainer.innerHTML = data.sectors.map(s => `
                    <div class="sector-card" style="border-left-color: ${s.sentiment === 'HOT' ? '#ff4b2b' : '#00c6ff'}">
                        <div class="sector-header">
                            <span class="sector-name">${s.name}</span>
                            <span class="sentiment-badge ${s.sentiment}">${s.sentiment}</span>
                        </div>
                        <div class="sector-reason">${s.reason}</div>
                    </div>
                `).join('');

                // Ï∂îÏ≤ú Ï¢ÖÎ™© ÏóÖÎç∞Ïù¥Ìä∏
                const picksContainer = document.getElementById('picks-container');
                picksContainer.innerHTML = data.tickers.map(t => `
                    <div class="pick-item">
                        <span class="pick-name">${t}</span>
                        <span class="pick-tag">BUY</span>
                    </div>
                `).join('');

            } catch (e) {
                console.error("Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®", e);
            }
        }

        loadReport();
    </script>
</body>
</html>
